                                                                                                                                                                   
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script>
    <link rel="shortcut icon" href="/themes/bootstrap/images/favicon.ico" type="image/x-icon" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/bootstrap-wizard.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/jquery-ui-bootstrap/css/custom-theme/jquery-ui-1.8.16.custom.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/tokenfield.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/bootstrap-responsive.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/fonts/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/style.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/style1.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/build.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/star-rating.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/jquery.dataTables.min.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/css/introjs.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/handsontable/jquery.handsontable.full.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/handsontable/jquery.handsontable.bootstrap.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/5116c520/fileuploader.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/c598585/chosen.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/5460bb78/shadowbox.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/6fd9c184/css/jquery.tagedit.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/8862e7dd/fullcalendar.min.css" />
<link rel="stylesheet" type="text/css" href="https://d6fdgn2cftjoe.cloudfront.net/237abf24/css/jquery_notification.css" />
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/b2e283e8/jquery.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/b2e283e8/jui/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/darwinboxjs/default-darwinbox.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/bootstrap-wizard.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/bootstrap-treeview.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/star-rating.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/tokenfield.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/knockout.3.0.0.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/knockout.validation.3.0.0.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/bootstrap.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/jquery-migrate-1.0.0.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/jquery.simpler-sidebar.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/intro.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/jquery.combinedScroll.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/handsontable/jquery.handsontable.full.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/4573f0c2/js/sticky.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/5116c520/fileuploader.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/c598585/chosen.jquery.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/5460bb78/shadowbox.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/6fd9c184/js/jquery.autoGrowInput.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/6fd9c184/js/jquery.tagedit-1.2.0.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/8862e7dd/moment.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/8862e7dd/fullcalendar.min.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/8862e7dd/gcal.js"></script>
<script type="text/javascript" src="https://d6fdgn2cftjoe.cloudfront.net/237abf24/js/jquery_notification_v.1.js"></script>
<title id="darwinbox-title-id">Darwinbox</title>
    <meta name="description" content="">
    <meta name="author" content="">
</head>
<body>
    <div class="topbar">
        <div class="portlet" id="yw0">
<div class="portlet-content">
<style>
.logoheader{
  /*width: 150px;
  height: 50px;*/
  margin: 0px;
}
</style>
<div class="main-navigation">   
  <div class="col-sm-2 col-xs-7">
    <div class="logo logoheader">
     <!--  <a href="#"><img src="" alt="logo"></a> -->
     <a href="/"><img style="" src="/messages/showimage/filename/tenant-avatar-11_2054837946.png/adaptive/true" alt="Darwinbox" /></a>  </div>
</div>
<div class="col-sm-2 col-xs-5 hidden-sm hidden-md hidden-lg">
  <div class="right-menu text-right">
    <ul>
      <li>
        <form action="" class="search-form">
         <div class="form-group has-feedback" id="search-form-right">
          <label for="search" class="sr-only">Search</label>
          <input type="text" class="form-control" name="search" id="search" placeholder="search">
          <span class="glyphicon glyphicon-search form-control-feedback"></span>
        </div>
      </form>
    </li>
    <li>
      <a href="#"><img src="" class="main-dp img-circle" alt=".." /></a>
    </li>
  </ul>
</div>
</div>
<div class="col-sm-8">
  <div class="clearfix"></div>
  <nav class="navbar navbar-menu">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="navbars"> <i class="fa fa-bars"></i></span>
      </button>
      <a class="navbar-brand hidden-lg hidden-md hidden-sm" href="#">Navigation</a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="menu_list">
                                                                                                                                                                                                                                          <!-- PMS -->
                                                      <!-- PMS -->
              <!-- Recruitment -->
                                                              <!-- Recruitment -->
                <!-- Reimbursement -->
                                                                <!-- Reimbursement -->
                <li><a href=/ class="dashboard nav-dashboard"><span>Dashboard</span></a></li><li><a href=/recruitment/recruitment/jobsactiveemployee class="recruitment nav-recruitment"><span>Recruitment</span></a></li><li><a href=/employee/list/is/1 class="employees nav-employee"><span>Employees</span></a></li><li><a href=/attendance class="calender nav-attendance"><span>Attendance</span></a></li><li><a href=/pms/pms/index class="pms nav-pms"><span>Performance</span></a></li><li><a href=/payroll class="payroll nav-payroll"><span>Compensation</span></a></li>              </ul>
            </div>
            <!-- /.navbar-collapse -->
          </nav>
          <!-- /.navbar -->
        </div>
        <div class="col-sm-2 hidden-xs text-right">

          <div class="right-menu">
            <ul>
              <li class="width70">
                <form action="" class="search-form">
                 <div class="form-group has-feedback" id="search-form-right">
                  <label for="search" class="sr-only">Search</label>
                  <!-- <input type="text" class="form-control" name="search"  id="tags"  placeholder="search"> -->
                  <input id="globalsearch" class="search-query form-control" type="text" placeholder="Colleagues, Groups and Tags"/>
                  <span class="glyphicon glyphicon-search form-control-feedback"></span>
                </div>
              </form>
            </li>
            <li class="width30">
              <a href="#" id="toggle-sidebar" style="float:right;"><span class= "directory-avatar">CN</span></a>
            </li>
          </ul>
          <div class="clearfix"></div>
          <!-- <li class="dropdown  guided_tour_nav"><a onclick="javascript:introJs().start();" href="javascript:void(0);"><img src="" width="60%" height="60%" align="absmiddle" border="0"></a></li> -->
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="clearfix"></div>
    </div>
    <!-- Side Toggle Start here-->
    <div id="main-sidebar" class="main-sidebar-right" style="display:none;">
      <div class="profile_image text-center">
        <div class="user-image">
          <a href="#"><span class= "directory-avatar">CN</span></a>
        </div> 
        <div class="user-desc side-menu-head">
          <span class="site-color3 fnt-size15 font-bold">Chaitanya</span>
        </div>
      </div>
      <ul>
        <li class="close-sb">
          <a href="/employee/view/id/97837">My Profile</a>
        </li>

                  <!-- 
    <li class="close-sb">
      <a href="">Calendar</a>
    </li> -->
          <li class="close-sb">
        <a href="/settings/calendar">Calendar</a>
      </li>
                                            <li class="close-sb">
          <a href="/employee/changepassword">Change Password</a>
        </li>
           
        <li class="close-sb">
          <a href="/employee/settings">Email Settings</a>
        </li>
                                <li class="close-sb">
            <a href="/expenses">Reimbursement</a>
          </li>
                                                                                    <li class="close-sb"><a href=/vibe>Vibe</a></li><li class="close-sb"><a href=/hrfiles>HR Documents</a></li><li class="close-sb"><a href=/leaves>Leaves</a></li>                                                              <div class="sidebar-line">
                          <div class="divider-line4"></div>
                        </div>
                        <li class="close-sb">
                          <a href="/dashboard/mobileqrcode">Mobile QR Code</a>
                        </li>
                                                <div class="sidebar-line">
                          <div class="divider-line4"></div>
                        </div>
                        <li class="close-sb">
                                                    <a href="/user/logout">Logout</a>
                               
                        </li>
                      </ul>
                    </div>
                    <!-- Side Toggle Closing here-->
                                        <!--side bar toggle-->
                    <script>
                      jQuery(document).ready(function () {
                        jQuery("#main-sidebar").simplerSidebar({
                          opener: "#toggle-sidebar",
                          top: 0,
                          animation: {
                            easing: "easeOutQuint"
                          },
                          sidebar: {
                            closingLinks: ".close-sb"
                          }
                        }).show();
                      });
                    </script>
                    <!--side bar toggle-->
                                        <!-- notification JS -->
                                        <!-- notification JS -->
                    <!-- APPROVALS JS -->
                                      <!-- APPROVALS JS -->
                  <!-- for header sticky-->
                  <script type="text/javascript"> 
                    $(window).load(function() { $(".fixednav").sticky({ topSpacing: 0 }); }); 
                    $('body').click(function(e){
                      if(e.target.id == "globalsearch"){
                        if($('body').find("#globalsearch").parent().hasClass("search-form-open")){
                          $('body').find("#globalsearch").parent().removeClass("search-form-open");
                        }else{
                          $('body').find("#globalsearch").parent().addClass("search-form-open");
                        }
                      } else{
                        if($('body').find("#globalsearch").parent().hasClass("search-form-open")){
                          $('body').find("#globalsearch").parent().removeClass("search-form-open");
                        }
                      }
                    });
                  </script>
                  <!-- for header sticky-->
                  <!-- INTRO JS GUIDED TOUR-->
                  <script type="text/javascript">

                    var page_full_url = window.location;
                    var split_page_url = window.location.pathname.split('/');

                    var page_name = split_page_url.pop();
                    var page_name_one = split_page_url[1];
                    var page_name_two = split_page_url[2];
                    var page_name_three = split_page_url[3];
                    var page_name_four = split_page_url[4];

                    if (isInt(page_name))
                    {
                      var constant_page_name = page_name_one + "_" + page_name_two + "_" + page_name_three + "_" + page_name_four;
                      var cookie_page_name = (page_name == '') ? 'dashboard' : constant_page_name;
                    }
                    else
                    {
                      var cookie_page_name = (page_name == '') ? 'dashboard' : page_name;
                    }

                    $(document).ready(function () {
                      var check_guided_tour = getCookie('darwinbox_guid_tour_' + cookie_page_name);
                      if (check_guided_tour != 1)
                      {
                        javascript:introJs().start();
                      }
                    });

                    $(".introjs-skipbutton").live("click", function (e) {
                      document.cookie = "darwinbox_guid_tour_" + cookie_page_name + "=1; expires=18 Dec 2017 12:00:00 UTC; path=" + page_full_url + ";";
                    });

                    function getCookie(cname) {
                      var name = cname + "=";
                      var ca = document.cookie.split(';');
                      for (var i = 0; i < ca.length; i++) {
                        var c = ca[i];
                        while (c.charAt(0) == ' ')
                          c = c.substring(1);
                        if (c.indexOf(name) == 0)
                          return c.substring(name.length, c.length);
                      }
                      return "";
                    }
                    function isInt(value)
                    {
                      return !isNaN(value) && parseInt(Number(value)) == value && !isNaN(parseInt(value, 10));
                    }
                  </script>
                  <!-- INTRO JS GUIDED TOUR-->
</div>
</div>    </div>
    <div class="container-full container-minheight">
        <div class="">
            <!--Outer Shell-->
             <style type="text/css">
.fc-icon {
    margin: 0 .1em!important;  top:0px!important;  font-size: 1em;  font-family: "Courier New", Courier, monospace;
    color: white;  vertical-align: baseline;
}
.fc-button {
    -moz-box-sizing: none!important;  -webkit-box-sizing: none!important;  box-sizing: 0px!important;
    border-radius: 50%!important;  margin-top: 3px!important;   padding: 0 0.4em!important;
    font-size: 1em!important;  cursor: pointer!important;   position: relative!important;
    display: inline-block!important;   overflow: hidden!important;   /* height: 1.9em!important; */
    line-height: 1.9em!important;   white-space: nowrap!important;
}
.fc-state-default {
    border: none!important; background-color: #e5e5e5!important; background-image:none;
    border-color: none!important; color: #fff; text-shadow:0px!important; box-shadow: 0px!important; 
}
.fc-button:focus {
    outline: none;
}
#calendar table > tbody.fc-body > tr > td:first-child, #calendar table > thead.fc-head > tr {
    border-left: 1px solid #ddd !important;
}
.fc-sun {
    color: #ff7373;
}
</style>

<!--==============Main CONTAINER Start Here===============-->
<section class="wrapper-content">
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
                <div class="form-group">
                    <!-- <h3 class="inner-heading site-color chev-arrow">February 2016 <a href="#"><i class="fa fa-chevron-circle-left"></i></a><a href="#"><i class="fa fa-chevron-circle-right"></i></a> </h3> -->
                </div>
            </div>
            <div class="col-sm-10">
                <div class="row">                        

                    <div class="col-sm-6 text-right">
                        <a href="#" id="message_event" class="btn btn-erp btn-sm text-uppercase dashbutton_nav btn-erp-calendar">+ EVENT</a>
                        <!-- <a href="#" class="btn btn-erp btn-sm text-uppercase">+ TRAINING</a> -->
                    </div>
                                    <div class="col-sm-3">
                                <div class="sideDiv">
                <select id="calendarFilterSelect" name="normalSelect" class="chosen form-control">
                    <option value="everything">Everything</option>
                                        <optgroup label="Events">
                        <option value="events_all">All Events</option>
                        <option value="events_my">My Events</option>
                                        </optgroup>
                                    <optgroup label="Leaves">
                <option value="leaves_all">All Leaves</option>
                <option value="leaves_my">My Leaves</option>
                <option value="leaves_pending">Pending Leaves</option>
            </optgroup>
                <optgroup label="Employee">
            <option value="employee_birthdays">Birthdays</option>
            <option value="employee_anniversary">Wedding Anniversary</option>
            <option value="employee_work_anniversary">Work Anniversary</option>
                        <option value="employee_holidays">Holidays</option>
            </optgroup>
</select>
</div>
</div>

<div id="modal_output"></div>
</div>
</div>

<div class="clearfix"></div>

<div class="row">
    <div class="col-md-9 table-padding">
        <div id="calendarContainer">
            <div id="calendar">
            </div> 
        </div>
    </div>

    <div class="col-md-3 events-column">
        <div class="cal-events">
                    </div>
    </div>
</div>
</div>
</section>
<div class="clearfix"></div>
<!-- universal model starts -->    
<div class="modal fade _bday_event_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_birth_days" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>
</div>

<div class="modal fade _wedding_anniv_event_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_wedding_days" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>

<div class="modal fade pop_joiness_separations_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_joiness_separations" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>

<div class="modal fade events_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_events" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>

<div class="modal fade holidays__modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_holidays" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>

<div class="modal fade working_anniv_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_work_anniversary" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>    

<div class="modal fade leaves_modal" tabindex="-1" role="dialog" aria-labelledby="myForgetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title site-color" style="font-size:18px;"></h4>
            </div>
            <div class="modal-body row pop_leaves" style="max-height:600px;overflow:auto;"></div>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>       

<!-- universal model ends -->
<!--==============Main CONTAINER Start Here===============-->
<script type="text/javascript">$(function () {$(".nav-calendar").addClass('active');});

</script>


<script>
$(document.body).on('click', '.showmore', function () {
    $('.modal-title').html('Birthdays');
    $("._bday_event_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});

$(document.body).on('click', '.wedding_anniv_showmore', function () {
    $('.modal-title').html('Wedding Anniversary');
    $("._wedding_anniv_event_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});


$(document.body).on('click', '.joines_seps_showmore', function () {
    $('.modal-title').html('New Joinees');
    $(".pop_joiness_separations_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});

$(document.body).on('click', '.events_showmore', function () {
    $('.modal-title').html('Events');
    $(".events_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});

$(document.body).on('click', '.holidays_showmore', function () {
    $('.modal-title').html('Holidays');
    $(".holidays__modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});

$(document.body).on('click', '.working_anniv_showmore', function () {
    $('.modal-title').html('Work Anniversary');
    $(".working_anniv_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});

$(document.body).on('click', '.leaves_showmore', function () {
    $('.modal-title').html('Leaves');
    $(".leaves_modal").modal({
        backdrop: "static",
        show: true,
        keyboard: true
    });
});


</script>                <!--Outer Shell-->
        </div>
    </div> <!-- /container -->

    <footer>
        <div class="footer">
            <div class="col-md-12 text-right footerDiv">
                <a href="https://darwinbox.com" target="_blank"><span>Powered by:</span> darwinbox</a>
            </div>
            <div class="clearfix"></div>
        </div>
    </footer>

    <div id="waiter" style="display: none;">
        <div id="server_handshake">
            <!-- <div id="spinner"><img src="/images/darwinbox-hold-on.gif" onclick="$('#waiter').hide();"></div> -->
            <div class="spinner">
              <div class="bounce1"></div>
              <div class="bounce2"></div>
              <div class="bounce3"></div>
          </div>
      </div>
  </div>
<script type="text/javascript">
/*<![CDATA[*/
jQuery(function($) {
jQuery('a[rel="tooltip"]').tooltip();

                                                 Shadowbox.init({
                                                   handleOversize: "drag",
                                                   modal: true
                                               });
        

                    $("#calendar").fullCalendar({
                      eventSources:[{
                       url: "/events/list",
                       success:function() { 
                        $("#waiter").hide();
                      },
                      beforeSend:function() { 
                        $("#waiter").show();
                      },
                    }],
                    eventRender: function (event, element, view) {
                                                        //alert(event.title);
                                                        //$(element).css("margin-top", "5px");
                                                        //$(element).css("margin-bottom", "5px");
                      if((event.type == "all" && event.filter =="leave") || (event.type == "pending" && event.filter =="leave") || (event.type == "my" && event.filter =="leave"))
                        element.find(".fc-time").hide();
                    },

                    dayClick: function(date, allDay, jsEvent, view) {

                      var eventsArray = [];
                      var holidays = [];
                      var birthdays = [];
                      var weddinganiv = [];
                      var workaniv = [];
                      var leave = [];
                      var new_joinees = [];
                      var show_max_events =1;
                      $(".pop_birth_days").html("");
                      $(".pop_wedding_days").html("");
                      $(".pop_events").html("");
                      $(".pop_joiness_separations").html("");
                      $(".pop_holidays").html("");
                      $(".pop_leaves").html("");
                      $(".pop_work_anniversary").html("");
                      $("#calendar").fullCalendar("clientEvents", function(event) { 
//                                                            console.log("est");
                                                               // console.log(date+"--"+event.start+"--"+event.end+"--"+event.title);
                       if(event.filter == "event"){
                         event.start = event.start_tmp
                         event.end = event.end_tmp;
//console.log(event.start_tmp+"----"+event.end_tmp);
                       }
                       if(("'"+date+"'" >= "'"+event.start+"'" && "'"+date+"'" <= "'"+event.end+"'" && event.end!=null ) || ("'"+date+"'" == "'"+event.start+"'") ) { 
                                                                    //console.log(event.type);
                        if(event.type == "holiday"){
                          holidays.push(event.title);
                          $(".pop_holidays").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                        } else if(event.type == "birthdays"){
                          $(".pop_birth_days").append("<div class='col-md-2'></div><div class='col-md-10' ><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                          birthdays.push(event.title);
                        } else if((event.type == "all" && event.filter =="leave") || (event.type == "pending" && event.filter =="leave") || (event.type == "my" && event.filter =="leave")){
                          leave.push(event.title);
                          $(".pop_leaves").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                        } else if(event.type == "work_anniversary"){
                          workaniv.push(event.title);
                          $(".pop_work_anniversary").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                        } else if(event.type == "anniversary"){
                          $(".pop_wedding_days").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                          weddinganiv.push(event.title);
                        }else if((event.type =="all" && event.filter =="event") || (event.type =="group_all" && event.filter =="event")  || (event.type =="my" && event.filter =="event")){
                          $(".pop_events").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                          eventsArray.push(event.title);                                            
                        } else if(event.type == "new_joinee"){
                          $(".pop_joiness_separations").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                          new_joinees.push(event.title);
                        }     } 
                        $(".events-column .cal-events").html("");
                        if( eventsArray.length <= 0 && holidays.length <= 0 && birthdays.length <= 0 && weddinganiv.length <= 0 && workaniv.length <= 0 && leave.length <= 0 && new_joinees.length <= 0){
                          $(".events-column .cal-events").append("<p>No Events </p>")
                        } else {
                          if(eventsArray.length > 0){
                            $(".events-column .cal-events").append("<p class=\"events text-uppercase\"><i class=\"fa fa-circle wratext event-icon\"></i>Events</p><div></div>");
                            var sh_max_events_flag=0;
                            for( i = 0 ; i < eventsArray.length ; i++){
                              if(i < show_max_events){
                               $(".events-column .cal-events .events").next("div").append("<a href=\"#\"> "+eventsArray[i]+"</a>");  
                             }
                             if(sh_max_events_flag ==0 &&  eventsArray.length > 1){
                              sh_max_events_flag = sh_max_events_flag+1;
                              $(".events-column .cal-events .events").next("div").append("<a href=\"#\" class=\"events_showmore\" > Show More</a>");
                            }                                                                               


                          }
                        }
                        if(holidays.length > 0){
                          $(".events-column .cal-events").append("<p class=\"holidays text-uppercase\"><i class=\"fa fa-circle wratext1 holiday-icon\"></i>Holidays</p><div></div>");
                          var sh_max_holiday_flag=0;
                          for( i = 0 ; i < holidays.length ; i++){


                            if(i < show_max_events){
                             $(".events-column .cal-events .holidays").next("div").append("<a href=\"#\"> "+holidays[i]+"</a>");
                           }

                           if(sh_max_holiday_flag ==0 && holidays.length > 1){
                            sh_max_holiday_flag = sh_max_holiday_flag+1;
                            $(".events-column .cal-events .holidays").next("div").append("<a href=\"#\" class=\"holidays_showmore\" > Show More</a>");

                          }


                                                                            //console.log(holidays[i]);

                        }
                      }
                      if(birthdays.length > 0){
                        $(".events-column .cal-events").append("<p class=\"birthdays text-uppercase\"><i class=\"fa fa-circle wratext2 birthday-icon\"></i>Birthdays</p><div></div>");
                        var sh_max_bday_flag = 0;
                        for( i = 0 ; i < birthdays.length ; i++){


                          if(i < show_max_events){
                            $(".events-column .cal-events .birthdays").next("div").append("<a href=\"#\"> "+birthdays[i]+"</a>");
                          }

                          if(sh_max_bday_flag ==0 && birthdays.length > 1){
                            sh_max_bday_flag = sh_max_bday_flag+1;
                            $(".events-column .cal-events .birthdays").next("div").append("<a href=\"#\" class=\"showmore\" > Show More</a>"); 
                          }



                        }
                      }
                      if(weddinganiv.length > 0){
                        $(".events-column .cal-events").append("<p class=\"weddinganiv text-uppercase\"><i class=\"fa fa-circle wratext3 wed-aniv-icon\"></i>Wedding Anniversary</p><div></div>");
                        var sh_max_wedanniv_flag =0;
                        for( i = 0 ; i < weddinganiv.length ; i++){

                          if(i < show_max_events){
                            $(".events-column .cal-events .weddinganiv").next("div").append("<a href=\"#\"> "+weddinganiv[i]+"</a>");
                          }

                          if(sh_max_wedanniv_flag ==0 && weddinganiv.length > 1){
                           sh_max_wedanniv_flag = sh_max_wedanniv_flag+1;
                           $(".events-column .cal-events .weddinganiv").next("div").append("<a href=\"#\" class=\"wedding_anniv_showmore\" > Show More</a>");
                         }



                       }
                     }
                     if(workaniv.length > 0){
                      $(".events-column .cal-events").append("<p class=\"workaniv text-uppercase\"><i class=\"fa fa-circle wratext4 work-aniv-icon\"></i>Work Anniversary</p><div></div>");
                      var sh_max_workinganniv_flag =0;
                      for( i = 0 ; i < workaniv.length ; i++){


                        if(i < show_max_events){
                          $(".events-column .cal-events .workaniv").next("div").append("<a href=\"#\"> "+workaniv[i]+"</a>");
                        }


                        if(sh_max_workinganniv_flag ==0 && workaniv.length >1){
                          sh_max_workinganniv_flag = sh_max_workinganniv_flag+1;
                          $(".events-column .cal-events .workaniv").next("div").append("<a href=\"#\" class=\"working_anniv_showmore\" > Show More</a>");

                        }



                      }
                    }
                    if(leave.length > 0){
                      $(".events-column .cal-events").append("<p class=\"leave text-uppercase\"><i class=\"fa fa-circle wratext4 leaves-icon\"></i>Leaves</p><div></div>");
                      var sh_max_leaves_flag =0;                   
                      for( i = 0 ; i < leave.length ; i++){                              

                        if(i < show_max_events){
                          $(".events-column .cal-events .leave").next("div").append("<a href=\"#\"> "+leave[i]+"</a>");
                        }


                        if(sh_max_leaves_flag ==0 && leave.length>1){
                          sh_max_leaves_flag = sh_max_leaves_flag+1;
                          $(".events-column .cal-events .leave").next("div").append("<a href=\"#\" class=\"leaves_showmore\" > Show More</a>");

                        }


                      }
                    }
                    if(new_joinees.length > 0){
                      $(".events-column .cal-events").append("<p class=\"new_joinees text-uppercase\"><i class=\"fa fa-circle wratext4 leaves-icon\"></i>New Joinees</p><div></div>");

                      var sh_max_ev_flag =0;
                      for( i = 0 ; i < new_joinees.length ; i++){
                        if(i < show_max_events){
                          $(".events-column .cal-events .new_joinees").next("div").append("<a href=\"#\"> "+new_joinees[i]+"</a>");
                        }

                        if(sh_max_ev_flag ==0 && new_joinees.length > 1){
                          sh_max_ev_flag= sh_max_ev_flag+1;
                          $(".events-column .cal-events .new_joinees").next("div").append("<a href=\"#\" class=\"joines_seps_showmore\" > Show More</a>");
                        }
                      }                                                 }

                    }
                  });
                },
                header: {
                  left: "title prevYear prev next nextYear",
                  center: "",
                  right: "",
                },eventLimit: 2,

              });
                                                                //$(".chosen").data("placeholder", "Select a Filter...").chosen();
              

                                         $("#groupChosen").addClass("hideme");
                                         $(document.body).on("change","select#calendarFilterSelect", function(e) {
                                            e.preventDefault();
                                            var item = $(this).val();
                                            if (item == "events_group") {
                                                $("#groupChosen").removeClass("hideme");

                                            } else {
                                                $("#groupChosen").addClass("hideme");
                                            }
                                            initCalendar(item);
                                        });
$(document.body).on("change","select#calendarGroupFilterSelect", function(e) {
    e.preventDefault();
    var item_g = $(this).val();

    initCalendar(item_g);
});

function initCalendar(item) {
    $("#calendar").html("");
    $(".cal-events").html("");
    var fetchURL = "/events/filter/id";
    if(item != "everything") {
           //$("#legend").addClass("hideme"); 
    } else {
           //$("#legend").removeClass("hideme"); 
        fetchURL = "/events/list/id";
    }
    $("#calendar").fullCalendar("destroy");
    $("#calendar").fullCalendar({

        /* eventLimit: true, 
        views: {
            agenda: {
                eventLimit: 4
            }
        },*/
        eventRender: function (event, element, view) {
                    if((event.type == "all" && event.filter =="leave") || (event.type == "pending" && event.filter =="leave") || (event.type == "my" && event.filter =="leave"))
                    element.find(".fc-time").hide();
                  },
        eventSources: [{
            url: fetchURL,
            type: "GET",
            data: {
                filter: item,
            },
            error: function() {
            //alert("there was an error while fetching events!");
            }}],
            dayClick: function(date, allDay, jsEvent, view) {
               var eventsArray = [];
               var holidays = [];
               var birthdays = [];
               var weddinganiv = [];
               var workaniv = [];
               var leave = [];
               var new_joinees = [];
               var show_max_events = 1;
               $(".pop_birth_days").html("");
               $(".pop_wedding_days").html("");
               $(".pop_events").html("");            
               $(".pop_joiness_separations").html("");
               $(".pop_holidays").html("");
               $(".pop_leaves").html("");
               $(".pop_work_anniversary").html("");
            //alert("Clicked on the slot: " + date);
               $("#calendar").fullCalendar("clientEvents", function(event){

                if(new Date(date).toISOString == new Date(event.start).toISOString()){
                    console.log(event);
                }
                
                //code for right panel.
               //  console.log(date+"--"+event.start+"--"+event.end+"--"+event.title);
                if(event.filter == "event"){
                   event.start = event.start_tmp
                   event.end = event.end_tmp;
//console.log(event.start_tmp+"----"+event.end_tmp);
               }
               if(("'"+date+"'" >= "'"+event.start+"'" && "'"+date+"'" <= "'"+event.end+"'" && event.end!=null ) || ("'"+date+"'" == "'"+event.start+"'") ) { 
               //     console.log(event.type);
                if (event.type == "holiday") {
                    holidays.push(event.title);
                    $(".pop_holidays").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                } else if (event.type == "birthdays") {
                    $(".pop_birth_days").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                    birthdays.push(event.title);
                } else if((event.type == "all" && event.filter =="leave") || (event.type == "pending" && event.filter =="leave") || (event.type == "my" && event.filter =="leave")){
                    leave.push(event.title);
                    $(".pop_leaves").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                } else if (event.type == "work_anniversary") {
                    workaniv.push(event.title);
                    $(".pop_work_anniversary").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                } else if (event.type == "anniversary") {
                    $(".pop_wedding_days").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                    weddinganiv.push(event.title);
                }else if((event.type =="all" && event.filter =="event") || (event.type =="group_all" && event.filter =="event") || (event.type =="my" && event.filter =="event")){
                    $(".pop_events").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                    eventsArray.push(event.title);                                            
                }
                else if (event.type == "new_joinee") {
                    $(".pop_joiness_separations").append("<div class='col-md-2'></div><div class='col-md-10'><a href=\"#\">"+event.image+"&nbsp"+event.title+"</div><div>&nbsp;</div>");
                    new_joinees.push(event.title);
                }
            }
            $(".events-column .cal-events").html("");
            if (eventsArray.length <= 0 && holidays.length <= 0 && birthdays.length <= 0 && weddinganiv.length <= 0 && workaniv.length <= 0 && leave.length <= 0 && new_joinees.length <= 0) {
                $(".events-column .cal-events").append("<p>No Events </p>")
            } else {
                if(eventsArray.length > 0){
                    $(".events-column .cal-events").append("<p class=\"events text-uppercase\"><i class=\"fa fa-circle wratext event-icon\"></i>Events</p><div></div>");
                    var sh_max_events_flag=0;
                    for( i = 0 ; i < eventsArray.length ; i++){
                        if(i < show_max_events){
                         $(".events-column .cal-events .events").next("div").append("<a href=\"#\"> "+eventsArray[i]+"</a>");  
                     }
                     if(sh_max_events_flag ==0 && eventsArray.length > 1){
                        sh_max_events_flag = sh_max_events_flag+1;
                        $(".events-column .cal-events .events").next("div").append("<a href=\"#\" class=\"events_showmore\" > Show More</a>");
                    }                                                                               


                }
            }
            if (holidays.length > 0) {
                $(".events-column .cal-events").append("<p class=\"holidays text-uppercase\"><i class=\"fa fa-circle wratext1 holiday-icon\"></i>Holidays</p><div></div>");
                var sh_max_holiday_flag = 0;
                for (i = 0; i < holidays.length; i++) {


                    if (i < show_max_events) {
                        $(".events-column .cal-events .holidays").next("div").append("<a href=\"#\"> " + holidays[i] + "</a>");
                    }

                    if (sh_max_holiday_flag == 0 && holidays.length > 1) {
                        sh_max_holiday_flag = sh_max_holiday_flag + 1;
                        $(".events-column .cal-events .holidays").next("div").append("<a href=\"#\" class=\"holidays_showmore\" > Show More</a>");

                    }


                            //console.log(holidays[i]);

                }
            }
            if (birthdays.length > 0) {
                $(".events-column .cal-events").append("<p class=\"birthdays text-uppercase\"><i class=\"fa fa-circle wratext2 birthday-icon\"></i>Birthdays</p><div></div>");
                var sh_max_bday_flag = 0;
                for (i = 0; i < birthdays.length; i++) {


                    if (i < show_max_events) {
                        $(".events-column .cal-events .birthdays").next("div").append("<a href=\"#\"> " + birthdays[i] + "</a>");
                    }

                    if (sh_max_bday_flag == 0 && birthdays.length > 1) {
                        sh_max_bday_flag = sh_max_bday_flag + 1;
                        $(".events-column .cal-events .birthdays").next("div").append("<a href=\"#\" class=\"showmore\" > Show More</a>");
                    }



                }
            }
            if (weddinganiv.length > 0) {
                $(".events-column .cal-events").append("<p class=\"weddinganiv text-uppercase\"><i class=\"fa fa-circle wratext3 wed-aniv-icon\"></i>Wedding Anniversary</p><div></div>");
                var sh_max_wedanniv_flag = 0;
                for (i = 0; i < weddinganiv.length; i++) {

                    if (i < show_max_events) {
                        $(".events-column .cal-events .weddinganiv").next("div").append("<a href=\"#\"> " + weddinganiv[i] + "</a>");
                    }

                    if (sh_max_wedanniv_flag == 0 && weddinganiv.length > 1) {
                        sh_max_wedanniv_flag = sh_max_wedanniv_flag + 1;
                        $(".events-column .cal-events .weddinganiv").next("div").append("<a href=\"#\" class=\"wedding_anniv_showmore\" > Show More</a>");
                    }



                }
            }
            if (workaniv.length > 0) {
                $(".events-column .cal-events").append("<p class=\"workaniv text-uppercase\"><i class=\"fa fa-circle wratext4 work-aniv-icon\"></i>Work Anniversary</p><div></div>");
                var sh_max_workinganniv_flag = 0;
                for (i = 0; i < workaniv.length; i++) {


                    if (i < show_max_events) {
                        $(".events-column .cal-events .workaniv").next("div").append("<a href=\"#\"> " + workaniv[i] + "</a>");
                    }


                    if (sh_max_workinganniv_flag == 0 && workaniv.length > 1) {
                        sh_max_workinganniv_flag = sh_max_workinganniv_flag + 1;
                        $(".events-column .cal-events .workaniv").next("div").append("<a href=\"#\" class=\"working_anniv_showmore\" > Show More</a>");

                    }



                }
            }
            if (leave.length > 0) {
                $(".events-column .cal-events").append("<p class=\"leave text-uppercase\"><i class=\"fa fa-circle wratext4 leaves-icon\"></i>Leaves</p><div></div>");
                var sh_max_leaves_flag = 0;
                for (i = 0; i < leave.length; i++) {

                    if (i < show_max_events) {
                        $(".events-column .cal-events .leave").next("div").append("<a href=\"#\"> " + leave[i] + "</a>");
                    }


                    if (sh_max_leaves_flag == 0 && leave.length > 1) {
                        sh_max_leaves_flag = sh_max_leaves_flag + 1;
                        $(".events-column .cal-events .leave").next("div").append("<a href=\"#\" class=\"leaves_showmore\" > Show More</a>");

                    }


                }
            }
            if (new_joinees.length > 0) {
                $(".events-column .cal-events").append("<p class=\"new_joinees text-uppercase\"><i class=\"fa fa-circle wratext4 leaves-icon\"></i>New Joinees</p><div></div>");

                var sh_max_ev_flag = 0;
                for (i = 0; i < new_joinees.length; i++) {
                    if (i < show_max_events) {
                        $(".events-column .cal-events .new_joinees").next("div").append("<a href=\"#\"> " + new_joinees[i] + "</a>");
                    }

                    if (sh_max_ev_flag == 0  && new_joinees.length > 1) {
                        sh_max_ev_flag = sh_max_ev_flag + 1;
                        $(".events-column .cal-events .new_joinees").next("div").append("<a href=\"#\" class=\"joines_seps_showmore\" > Show More</a>");
                    }
                }
            }

        }
                //EOF right panel content


    });
},
header: {
    left: "title prevYear prev next nextYear",
    center: "",
    right: "",
},eventLimit: 2,
});

}

                                                 $(document).ajaxStart(function (){
                                                  $("#waiter").show();
                                                });
        $(document).ajaxStop(function (){
          $("#waiter").hide();
        });
        

                                                 $("form").submit(function(){
                                                  $(this).find("input[type=\"submit\"]").click(function(){
                                                    return false;
                                                  });
      });
        

                                                 $(".date_picker").datepicker({
                                                  showAnim: "fold",
                                                  changeMonth: true,
                                                  changeYear: true,
                                                  dateFormat: "yy-mm-dd",
                                                  yearRange: "c-100:",
                                                });
        

                                                 var hash = window.location.hash;
                                                 $("a[href='"+hash+"']").trigger("click");
                                                 

                     $.widget("custom.catcomplete", $.ui.autocomplete, {
                      _renderMenu: function(ul, items) {
                        var self = this,
                        currentCategory = "";
                        $.each(items, function(index, item) {
                          if (item.category != currentCategory) {
                            ul.append("<li class='ui-autocomplete-category ui-autocomp-people'><div><b>" + item.category + "</b></div></li>");
                            currentCategory = item.category;
                          }
                          self._renderItem(ul, item);
                        });
                      },
                      _renderItem: function (ul,item) {
                        return $( "<li class='autocomp-item'></li>" )
                        .data( "ui-autocomplete-item", item )
                        .append( "<a>" + item.icon + "<span>" + item.label + "</span>" + "<span class='caption'>" + item.desc + "</span>" + "</a>" )
                        .appendTo( ul );
                      }
                    });

                    $("#globalsearch").catcomplete({
                      delay: 0,
                      minLength: 3,
                      source: "/messages/search",
                      focus: function(event,ui){
                        return false;
                      },
                      select: function(event,ui) {
                        window.location.href = ui.item.link;
                      }
                    });
                    

                     $(document.body).on("click", ".dashbutton_nav",function(e) {
                      e.preventDefault();
                      var $this = $(this);
                      var res = $this.attr("id");
                      if(res != "") {
                        $.ajax({
                          data: {filter: res},
                          dataType: "json",
                          url: "/dashboard/getWidgetData",
                          beforeSend: function() {
                            if($("#db_widget_modal").length > 0) {
                              $("#db_widget_modal").remove();
                            }
                          },
                          success: function(data) {
                            if (data.status == "success") {
                              $("#modal_output").html("").html(data.update);
                              $("#db_widget_modal").modal({backdrop:true, show:true, keyboard: true});
                            }
                          }
                        });
                      } else {
                        window.location.href = $(this).attr("href");
                      }
                    });
                    

                     $(document.body).on("click", ".changeaccess",function(e) {
                      e.preventDefault();
                      $.ajax({
                        dataType: "json",
                        url: "/dashboard/changeAccess",
                        success: function(data) {
                          if (data.status == "success") {
                            var url = "/dashboard"; 
                            window.location.href = url;
                          }
                        }
                      });
                    });
                    

                     $(document).ready(function(){
                                             //updateNoifications();   
                     });    

                     /*setInterval(updateNoifications, 60000);  commented this line because its taking lot of server resources this line makes the notifications load automatically every 60 secs*/


                     function updateNoifications(){
                      $.ajax({
                        type: "GET",
                        dataType: "json",
                        url: "/notifications/show",
                        success: function(data) {
                          if(data.status == "success"){
                        // title count 
                            if(data.request_unread_count != null || data.notification_unread_count != null){
                              var counts = 0;
                              var request_count = (!isNaN(data.request_unread_count))? data.request_unread_count : 0;
                              var notification_count = (!isNaN(data.notification_unread_count))? data.notification_unread_count : 0;
                              counts = request_count + notification_count;
                              $("#darwinbox-title-id").html("").html("("+counts+") darwinbox - Sum Up Your HR");
                            }else{
                              $("#darwinbox-title-id").html("").html("darwinbox");
                            }

        // notifications requests update
                            $("#notification-menu").html("").html(data.update_notifications);

                            if(data.request_unread_count != null){
                              $("#request-count span").html("").html("&nbsp;&nbsp;"+data.request_unread_count+"&nbsp;&nbsp;");
                            }

                            if(data.notification_unread_count != null){
                              $("#notification-count span").html("").html("&nbsp;&nbsp;"+data.notification_unread_count+"&nbsp;&nbsp;");
                            }

                          }
                        },
                        beforeSend: function(){
                          var urlpathname = window.location.pathname;
                          var hidediv = true;

                          switch (urlpathname) {
                            case "/leaves": hidediv = false; break;
                            case "/manage/calendar": hidediv = false; break;
                          }

                          if(hidediv)
                          {
                            $("#waiter").hide();
                          }
                        }
                      });
                    }

                    

                     $(document.body).on("click", ".request_attendance",function(e) {
                      e.preventDefault();
                      var request = $(this).attr("id").split("_request_"); //notification id
                      $.ajax({
                        type: "POST",
                        dataType: "json",
                        data: {action:request[0],id:request[1]},
                        url: "/request/process",
                        success: function(data) {
                          if(data.status =="success"){
                            $("#ar_status_container_"+data.request).html("");
                            $("#ar_status_container_"+data.request).html(data.update);
                            showNotification({
                              message: data.update,
                              type: "success",
                              autoClose: true,
                              duration: 5
                            });
                          }else{
                            showNotification({
                              message: data.error,
                              type: "error",
                              autoClose: true,
                              duration: 5
                            });
                          }
                        }
                      });
                    });

    //attendance log response
                    $(document.body).on("click", ".request_message_attendance_log",function(e) {
                      e.preventDefault();
                      var request = $(this).attr("id").split("_requestlog_");
                      var managerresponse = $("textarea#attendance-message-box-text").val();
                      $.ajax({
                        type: "POST",
                        dataType: "json",
                        data: {action:request[0],id:request[1],managerresponse : managerresponse},
                        url: "/request/process",
                        success: function(data) {
                          if(data.status =="success"){
                            $("#arl_status_container_"+data.request).html("");
                            $("#arl_status_container_"+data.request).html(data.update);
                            showNotification({
                              message: data.update,
                              type: "success",
                              autoClose: true,
                              duration: 5
                            });
                          }else{
                            showNotification({
                              message: data.error,
                              type: "error",
                              autoClose: true,
                              duration: 5
                            });
                          }
                        }
                      });
                    });
//compoff log response
                    $(document.body).on("click", ".request_message_compoff_log",function(e) {
                      e.preventDefault();
                      var request = $(this).attr("id").split("_requestlog_");
//        console.log("action "+request[0]);
                      var reqid=request[1];
                      $.ajax({
                        type: "POST",
                        dataType: "json",
                        data: {action:request[0],id:request[1]},
                        url: "/compoff/process",
                        success: function(data) {
                          if(data.status =="success"){
                            $("#arl_status_container_"+data.request).html("");
                            $("#arl_status_container_"+data.request).html(data.update);
                            $("#compoff_accept_"+reqid).addClass("hide");
                            $("#compoff_reject_"+reqid).addClass("hide");
                            showNotification({
                              message: data.update,
                              type: "success",
                              autoClose: true,
                              duration: 5
                            });
                          }else{
                            showNotification({
                              message: data.error,
                              type: "error",
                              autoClose: true,
                              duration: 5
                            });
                          }
                        }
                      });
                    });
//optional holiday
                    $(document.body).on("click",".request_optional_holiday", function(e) {
                      e.preventDefault();
                      var optionalholiday = $(this).attr("id").split("_");
                      var message=$(this).parents().eq(1).find("textarea").val();
                      $.ajax({
                        type: "POST",
                        dataType: "json",
                        data: {action:optionalholiday[1],id:optionalholiday[2],opid:optionalholiday[3],message:message},
                        url: "/Optionalholiday/process",
                        success: function(data) {
                          if(data.status =="success"){
                // Change color
                            $("#request_thread_"+optionalholiday[2]).attr("class", "alert alert-success clearfix requestDiv");
                            if(optionalholiday[1] === "approve"){
                              $("#request_thread_"+optionalholiday[2]+" .btn-hoverlayer").empty().html('<strong>Approved </strong>by <a target="_blank" class="site-color" href="https://dbox.darwinbox.in/employee/view/id/97837">Chaitanya Nvk</a>');
                            }else if(optionalholiday[1] === "decline"){
                              $("#request_thread_"+optionalholiday[2]+" .btn-hoverlayer").empty().html('<strong>Rejected </strong>by <a target="_blank" class="site-color" href="https://dbox.darwinbox.in/employee/view/id/97837">Chaitanya Nvk</a>');
                            }else{
                              $("#request_thread_"+optionalholiday[2]+" .btn-hoverlayer").empty().html('<strong>Revoked </strong>by <a target="_blank" class="site-color" href="https://dbox.darwinbox.in/employee/view/id/97837">Chaitanya Nvk</a>');
                            }
                            $("#book_"+optionalholiday[2]).hide();
                            $("#optionalholiday_approve_"+optionalholiday[2]+"_"+optionalholiday[3]).addClass("hidden");
                            $("#message-box-text").addClass("hidden");
                            $("#optionalholiday_decline_"+optionalholiday[2]+"_"+optionalholiday[3]).addClass("hidden");
                            $("#optionalholiday_revoke_"+optionalholiday[2]+"_"+optionalholiday[3]).addClass("hidden");
                          }else{
                            showNotification({
                              message: data.error,
                              type: "error",
                              autoClose: true,
                              duration: 5,
                            });
                          }
                        }
                      });
                    });//optional holiday
                    
});
/*]]>*/
</script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"b2f0be28e7","applicationID":"27650753","transactionName":"Y1BRMkNVW0FRBRBfXFoacgVFXVpcHzUBQkddW1QVcltbRkIJCFpWRhpQB11RW1ZRFA==","queueTime":0,"applicationTime":433,"atts":"TxdSRAtPSE8=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>
<script>

// FILE TYPES THAT SHOULD BE PREVIEWED BROWSER ONLY
var shadow_box_gv_ignore = {};
shadow_box_gv_ignore.ext = [] ;
shadow_box_gv_ignore.modules = [] ;
shadow_box_gv_ignore.tenants = [] ;
shadow_box_gv_ignore.tenant_id = "11";
$(document).ready(function(){
    //console.log("window height : " + $(window).height());
    //console.log("doc height : " + $(".container-full").height());
    $(".container-minheight").css("min-height" , ($(window).height() - 121));
});
// datepicker dropdown on modal
$.fn.modal.Constructor.prototype.enforceFocus = function () {};
// datepicker dropdown on modal
</script>
<!-- INTERCOM CODE -->
<!-- INTERCOM CODE -->
</html>
<link rel="stylesheet" href="/css/stt.css">   
<script type="text/javascript" src="/js/stt.js"></script>
<script>
  stt_init({bind_to:"all"});
</script>
